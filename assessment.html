<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penilaian Motor | MotoValue</title>
    <link rel="stylesheet" href="assessment.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #0b2c4a;
            --secondary-color: #f5c542;
            --secondary-dark: #e0b339;
            --dark-color: #0a1f33;
            --text-light: #ffffff;
            --text-muted: rgba(255, 255, 255, 0.7);
            --border-radius: 8px;
            --border-radius-lg: 12px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-color);
            color: var(--text-light);
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        textarea {
            background-color: rgba(255, 255, 255, 0.08) !important;
            border: 2px solid rgba(255, 255, 255, 0.25) !important;
            color: white !important;
            padding: 14px 16px !important;
            border-radius: 10px !important;
            font-size: 16px !important;
            width: 100% !important;
            box-sizing: border-box !important;
            margin-top: 5px !important;
            transition: all 0.3s ease !important;
            resize: vertical;
            min-height: 120px;
        }
        
        textarea:focus {
            outline: none !important;
            border-color: #f5c542 !important;
            background-color: rgba(255, 255, 255, 0.12) !important;
            box-shadow: 0 0 0 3px rgba(245, 197, 66, 0.25) !important;
        }
        
        .mileage-display {
            margin-top: 10px;
            color: var(--secondary-color);
            font-weight: bold;
            font-size: 1.2rem;
            text-align: center;
        }
        
        .upload-area input[type="file"] {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }
        
        .upload-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--secondary-color);
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Â§¥ÈÉ®ÂØºËà™ -->
    <header class="assessment-header">
        <div class="container">
            <a href="index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>Kembali</span>
            </a>
            
            <div class="logo">MotoValue</div>
            
            <div class="header-info">
                <span class="header-text">Penilaian Motor Profesional</span>
            </div>
        </div>
    </header>

    <!-- ËØÑ‰º∞Ê®™ÂπÖ -->
    <section class="assessment-banner">
        <div class="container">
            <h1>Penilaian Nilai Motor</h1>
            <p class="subtitle">Dapatkan perkiraan nilai pasar motor Anda dalam beberapa menit. Algoritma cerdas kami berdasarkan data pasar real-time.</p>
            
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">10.000+</span>
                    <span class="stat-text">Kasus Sukses</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">95%</span>
                    <span class="stat-text">Kepuasan Pengguna</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">3</span>
                    <span class="stat-text">Menit Selesai</span>
                </div>
            </div>
        </div>
    </section>

    <!-- ËøõÂ∫¶Êù° -->
    <div class="container">
        <div class="progress-bar">
            <div class="progress-step active">1. Informasi Dasar</div>
            <div class="progress-step">2. Kondisi Motor</div>
            <div class="progress-step">3. Unggah Foto</div>
            <div class="progress-step">4. Lihat Hasil</div>
        </div>
    </div>

    <!-- ËØÑ‰º∞Ë°®ÂçïÂÆπÂô® -->
    <main class="assessment-container">
        <div class="container">
            <form id="assessment-form" class="assessment-form">
                <!-- Ê≠•È™§1: Âü∫Êú¨‰ø°ÊÅØ -->
                <div class="form-step active" id="step1">
                    <h2>Informasi Dasar</h2>
                    
                    <div class="form-group">
                        <label for="brand">Pilih Merek *</label>
                        <div class="brand-selection">
                            <div class="brand-option active" data-brand="honda">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Honda_Logo.svg/2560px-Honda_Logo.svg.png" alt="Honda" class="brand-logo-img">
                                <span class="brand-name">Honda</span>
                            </div>
                            <div class="brand-option" data-brand="yamaha">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Yamaha_Logo.svg/2560px-Yamaha_Logo.svg.png" alt="Yamaha" class="brand-logo-img">
                                <span class="brand-name">Yamaha</span>
                            </div>
                        </div>
                        <input type="hidden" id="brand" name="brand" value="honda" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="model">Model Motor *</label>
                            <select id="model" name="model" required>
                                <option value="">Pilih Model</option>
                                <option value="beat">Honda Beat</option>
                                <option value="vario">Honda Vario</option>
                                <option value="scoopy">Honda Scoopy</option>
                                <option value="pcx">Honda PCX</option>
                                <option value="adv">Honda ADV</option>
                                <option value="nmax">Yamaha NMAX</option>
                                <option value="aerox">Yamaha Aerox</option>
                                <option value="xmax">Yamaha XMAX</option>
                                <option value="mt15">Yamaha MT-15</option>
                                <option value="r15">Yamaha R15</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="year">Tahun *</label>
                            <select id="year" name="year" required>
                                <option value="">Pilih Tahun</option>
                                <option value="2026">2026</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2020">2020</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mileage">Kilometer (km) *</label>
                            <div class="mileage-slider">
                                <input type="range" id="mileage" name="mileage" min="0" max="100000" step="1000" value="10000">
                                <div class="mileage-labels">
                                    <span>0</span>
                                    <span>50.000</span>
                                    <span>100.000+</span>
                                </div>
                            </div>
                            <div class="mileage-display">
                                <span id="mileage-value">10.000</span> km
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="location">Lokasi *</label>
                            <select id="location" name="location" required>
                                <option value="">Pilih Lokasi</option>
                                <option value="jakarta">Jakarta</option>
                                <option value="surabaya">Surabaya</option>
                                <option value="bandung">Bandung</option>
                                <option value="bali">Bali</option>
                                <option value="medan">Medan</option>
                                <option value="makassar">Makassar</option>
                                <option value="semarang">Semarang</option>
                                <option value="palembang">Palembang</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-note">
                        <p><i class="fas fa-info-circle"></i> Pastikan informasi yang diisi akurat untuk hasil penilaian yang tepat.</p>
                    </div>
                    
                    <div class="form-navigation">
                        <div></div>
                        <button type="button" class="btn-next" onclick="nextStep(1)">Selanjutnya <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <!-- Ê≠•È™§2: ËΩ¶ËæÜÁä∂ÂÜµ -->
                <div class="form-step" id="step2">
                    <h2>Kondisi Motor</h2>
                    
                    <div class="condition-section">
                        <h3>Kondisi Keseluruhan</h3>
                        <div class="condition-options">
                            <div class="condition-option">
                                <input type="radio" id="condition-excellent" name="condition" value="excellent">
                                <label for="condition-excellent" class="option-content">
                                    <div class="option-icon">‚≠ê</div>
                                    <div class="option-title">Sangat Baik</div>
                                    <div class="option-desc">Seperti baru, tanpa kerusakan</div>
                                </label>
                            </div>
                            
                            <div class="condition-option">
                                <input type="radio" id="condition-good" name="condition" value="good" checked>
                                <label for="condition-good" class="option-content">
                                    <div class="option-icon">üëç</div>
                                    <div class="option-title">Baik</div>
                                    <div class="option-desc">Bekas pakai normal</div>
                                </label>
                            </div>
                            
                            <div class="condition-option">
                                <input type="radio" id="condition-fair" name="condition" value="fair">
                                <label for="condition-fair" class="option-content">
                                    <div class="option-icon">‚úì</div>
                                    <div class="option-title">Cukup</div>
                                    <div class="option-desc">Beberapa kerusakan kecil</div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="condition-section">
                        <h3>Kondisi Mesin</h3>
                        <div class="condition-options">
                            <div class="condition-option">
                                <input type="radio" id="engine-excellent" name="engine" value="excellent" checked>
                                <label for="engine-excellent" class="option-content">
                                    <div class="option-icon">‚öôÔ∏è</div>
                                    <div class="option-title">Sempurna</div>
                                    <div class="option-desc">Tidak ada masalah</div>
                                </label>
                            </div>
                            
                            <div class="condition-option">
                                <input type="radio" id="engine-good" name="engine" value="good">
                                <label for="engine-good" class="option-content">
                                    <div class="option-icon">üîß</div>
                                    <div class="option-title">Normal</div>
                                    <div class="option-desc">Performa baik</div>
                                </label>
                            </div>
                            
                            <div class="condition-option">
                                <input type="radio" id="engine-fair" name="engine" value="fair">
                                <label for="engine-fair" class="option-content">
                                    <div class="option-icon">‚ö†Ô∏è</div>
                                    <div class="option-title">Perlu Perbaikan</div>
                                    <div class="option-desc">Ada masalah kecil</div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="condition-section">
                        <h3>Kondisi Body</h3>
                        <div class="condition-options">
                            <div class="condition-option">
                                <input type="radio" id="body-excellent" name="body" value="excellent" checked>
                                <label for="body-excellent" class="option-content">
                                    <div class="option-icon">üé®</div>
                                    <div class="option-title">Sempurna</div>
                                    <div class="option-desc">Tanpa goresan</div>
                                </label>
                            </div>
                            
                            <div class="condition-option">
                                <input type="radio" id="body-good" name="body" value="good">
                                <label for="body-good" class="option-content">
                                    <div class="option-icon">‚ú®</div>
                                    <div class="option-title">Baik</div>
                                    <div class="option-desc">Goresan kecil</div>
                                </label>
                            </div>
                            
                            <div class="condition-option">
                                <input type="radio" id="body-fair" name="body" value="fair">
                                <label for="body-fair" class="option-content">
                                    <div class="option-icon">üîç</div>
                                    <div class="option-title">Cukup</div>
                                    <div class="option-desc">Beberapa penyok</div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-note">
                        <p><i class="fas fa-info-circle"></i> Jujurlah tentang kondisi motor untuk hasil yang lebih akurat.</p>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn-prev" onclick="prevStep(2)"><i class="fas fa-arrow-left"></i> Sebelumnya</button>
                        <button type="button" class="btn-next" onclick="nextStep(2)">Selanjutnya <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <!-- Ê≠•È™§3: ‰∏ä‰º†ÁÖßÁâá -->
                <div class="form-step" id="step3">
                    <h2>Unggah Foto</h2>
                    
                    <div class="form-group">
                        <label>Foto Motor (Maksimal 6 foto)</label>
                        <p class="form-note">Unggah foto dari berbagai sudut untuk penilaian yang lebih akurat.</p>
                        
                        <div class="photo-upload">
                            <div class="upload-area" id="upload-front">
                                <input type="file" accept="image/*" data-position="front">
                                <div class="upload-icon"><i class="fas fa-camera"></i></div>
                                <div class="upload-text">Depan</div>
                            </div>
                            
                            <div class="upload-area" id="upload-back">
                                <input type="file" accept="image/*" data-position="back">
                                <div class="upload-icon"><i class="fas fa-camera"></i></div>
                                <div class="upload-text">Belakang</div>
                            </div>
                            
                            <div class="upload-area" id="upload-side">
                                <input type="file" accept="image/*" data-position="side">
                                <div class="upload-icon"><i class="fas fa-camera"></i></div>
                                <div class="upload-text">Samping</div>
                            </div>
                            
                            <div class="upload-area" id="upload-engine">
                                <input type="file" accept="image/*" data-position="engine">
                                <div class="upload-icon"><i class="fas fa-cog"></i></div>
                                <div class="upload-text">Mesin</div>
                            </div>
                            
                            <div class="upload-area" id="upload-dashboard">
                                <input type="file" accept="image/*" data-position="dashboard">
                                <div class="upload-icon"><i class="fas fa-tachometer-alt"></i></div>
                                <div class="upload-text">Dashboard</div>
                            </div>
                            
                            <div class="upload-area" id="upload-other">
                                <input type="file" accept="image/*" data-position="other">
                                <div class="upload-icon"><i class="fas fa-plus"></i></div>
                                <div class="upload-text">Lainnya</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="additional-info">Informasi Tambahan</label>
                        <textarea id="additional-info" name="additional-info" rows="4" placeholder="Modifikasi, riwayat servis, atau masalah khusus..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="contact">Kontak (WhatsApp) *</label>
                        <input type="tel" id="contact" name="contact" placeholder="+62 812-3456-7890" required>
                    </div>
                    
                    <div class="form-note">
                        <p><i class="fas fa-shield-alt"></i> Data Anda aman bersama kami.</p>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn-prev" onclick="prevStep(3)"><i class="fas fa-arrow-left"></i> Sebelumnya</button>
                        <button type="button" class="btn-submit" onclick="calculateEstimation()">Hitung Nilai <i class="fas fa-calculator"></i></button>
                    </div>
                </div>

                <!-- Ê≠•È™§4: Êü•ÁúãÁªìÊûú -->
                <div class="form-step" id="step4">
                    <h2>Hasil Penilaian</h2>
                    
                    <div class="estimation-result">
                        <div class="estimation-card">
                            <div class="estimation-header">
                                <div class="estimation-icon">üí∞</div>
                                <h3>Perkiraan Nilai Motor Anda</h3>
                            </div>
                            
                            <div class="estimation-value">
                                <div class="value-range">
                                    <div class="range-min">
                                        <div class="range-label">Minimum</div>
                                        <div class="currency">Rp</div>
                                        <div class="value" id="min-value">18.5</div>
                                        <div class="range">juta</div>
                                    </div>
                                    
                                    <div class="range-separator">-</div>
                                    
                                    <div class="range-max">
                                        <div class="range-label">Maksimum</div>
                                        <div class="currency">Rp</div>
                                        <div class="value" id="max-value">22.3</div>
                                        <div class="range">juta</div>
                                    </div>
                                </div>
                                
                                <div class="value-average">
                                    <span class="average-label">Rata-rata:</span>
                                    <div class="currency">Rp</div>
                                    <div class="value" id="avg-value">20.4</div>
                                    <div class="range">juta</div>
                                </div>
                            </div>
                            
                            <div class="estimation-details">
                                <p>Rincian penilaian:</p>
                                <ul class="breakdown-list">
                                    <li>Harga dasar <span>Rp 23.5 juta</span></li>
                                    <li>Penyesuaian kilometer <span>-Rp 1.2 juta</span></li>
                                    <li>Kondisi mesin <span>-Rp 800 ribu</span></li>
                                    <li>Kondisi body <span>-Rp 600 ribu</span></li>
                                    <li>Lokasi <span>+Rp 500 ribu</span></li>
                                    <li class="total-adjustment">Total penyesuaian <span>-Rp 2.1 juta</span></li>
                                </ul>
                            </div>
                            
                            <div class="adjustment-info">
                                <h4>Faktor yang Mempengaruhi Nilai</h4>
                                <div class="adjustment-factors">
                                    <div class="factor-item">
                                        <div class="factor-icon">üìà</div>
                                        <p>Harga lebih tinggi di kota besar</p>
                                    </div>
                                    <div class="factor-item">
                                        <div class="factor-icon">‚è±Ô∏è</div>
                                        <p>Kilometer rendah bernilai lebih tinggi</p>
                                    </div>
                                    <div class="factor-item">
                                        <div class="factor-icon">üîß</div>
                                        <p>Kondisi mesin berpengaruh besar</p>
                                    </div>
                                    <div class="factor-item">
                                        <div class="factor-icon">üõ°Ô∏è</div>
                                        <p>Servis berkala meningkatkan nilai</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="estimation-note">
                                <p><i class="fas fa-exclamation-circle"></i> Catatan penting:</p>
                                <ul>
                                    <li>Ini adalah perkiraan berdasarkan data pasar</li>
                                    <li>Nilai aktual mungkin berbeda saat inspeksi</li>
                                    <li>Dokumen lengkap meningkatkan nilai</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <a href="https://wa.me/6281234567890?text=Saya%20ingin%20konsultasi%20tentang%20penilaian%20motor" class="btn-whatsapp" target="_blank">
                                <i class="fab fa-whatsapp"></i> Konsultasi via WhatsApp
                            </a>
                            
                            <button type="button" class="btn-recalculate" onclick="recalculate()">
                                <i class="fas fa-redo"></i> Hitung Ulang
                            </button>
                            
                            <a href="index.html" class="btn-home">
                                <i class="fas fa-home"></i> Kembali ke Beranda
                            </a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <!-- Â∏∏ËßÅÈóÆÈ¢ò -->
    <section class="faq-section">
        <div class="container">
            <h2>Pertanyaan Umum</h2>
            
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Berapa lama proses penilaian?</span>
                    </div>
                    <div class="faq-answer">
                        <p>Proses penilaian online hanya 3-5 menit. Setelah mengisi semua informasi, hasil akan muncul segera.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Seberapa akurat penilaian ini?</span>
                    </div>
                    <div class="faq-answer">
                        <p>Akurasi sekitar 85-90% berdasarkan data pasar real-time. Untuk hasil 100% akurat, sarankan inspeksi fisik.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Apakah data saya aman?</span>
                    </div>
                    <div class="faq-answer">
                        <p>Ya, kami menggunakan enkripsi untuk melindungi data. Informasi tidak dibagikan tanpa izin.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        let currentStep = 1;
        const totalSteps = 4;
        
        document.addEventListener('DOMContentLoaded', function() {
            initBrandSelection();
            initMileageSlider();
            initImageUpload();
            initFAQ();
            updateProgressBar();
        });
        
        function initBrandSelection() {
            const brandOptions = document.querySelectorAll('.brand-option');
            const brandInput = document.getElementById('brand');
            
            brandOptions.forEach(option => {
                option.addEventListener('click', function() {
                    brandOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    brandInput.value = this.getAttribute('data-brand');
                });
            });
        }
        
        function initMileageSlider() {
            const mileageSlider = document.getElementById('mileage');
            const mileageValue = document.getElementById('mileage-value');
            
            mileageSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                mileageValue.textContent = value.toLocaleString('id-ID');
            });
        }
        
        function initImageUpload() {
            const uploadAreas = document.querySelectorAll('.upload-area');
            
            uploadAreas.forEach(area => {
                const fileInput = area.querySelector('input[type="file"]');
                
                fileInput.addEventListener('change', function() {
                    if (this.files && this.files[0]) {
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            area.innerHTML = '';
                            
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            img.className = 'upload-preview';
                            img.alt = 'Preview';
                            
                            const removeBtn = document.createElement('button');
                            removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                            removeBtn.style.cssText = `
                                position: absolute;
                                top: 5px;
                                right: 5px;
                                background: rgba(0,0,0,0.7);
                                color: white;
                                border: none;
                                border-radius: 50%;
                                width: 24px;
                                height: 24px;
                                cursor: pointer;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                z-index: 10;
                            `;
                            removeBtn.addEventListener('click', function(e) {
                                e.stopPropagation();
                                const position = fileInput.getAttribute('data-position');
                                const text = area.id.replace('upload-', '');
                                area.innerHTML = `
                                    <input type="file" accept="image/*" data-position="${position}">
                                    <div class="upload-icon"><i class="fas fa-camera"></i></div>
                                    <div class="upload-text">${text.charAt(0).toUpperCase() + text.slice(1)}</div>
                                `;
                                initImageUpload();
                            });
                            
                            area.appendChild(img);
                            area.appendChild(removeBtn);
                            area.classList.add('has-image');
                        };
                        
                        reader.readAsDataURL(this.files[0]);
                    }
                });
            });
        }
        
        function initFAQ() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const item = this.parentElement;
                    item.classList.toggle('active');
                });
            });
        }
        
        function nextStep(current) {
            if (!validateStep(current)) return;
            
            document.getElementById(`step${current}`).classList.remove('active');
            document.getElementById(`step${current + 1}`).classList.add('active');
            currentStep = current + 1;
            updateProgressBar();
            
            if (currentStep === totalSteps) {
                simulateCalculation();
            }
        }
        
        function prevStep(current) {
            document.getElementById(`step${current}`).classList.remove('active');
            document.getElementById(`step${current - 1}`).classList.add('active');
            currentStep = current - 1;
            updateProgressBar();
        }
        
        function updateProgressBar() {
            const steps = document.querySelectorAll('.progress-step');
            steps.forEach((step, index) => {
                step.classList.remove('active');
                if (index < currentStep) step.classList.add('active');
            });
        }
        
        function validateStep(step) {
            if (step === 1) {
                const brand = document.getElementById('brand').value;
                const model = document.getElementById('model').value;
                const year = document.getElementById('year').value;
                const location = document.getElementById('location').value;
                
                if (!brand || !model || !year || !location) {
                    alert('Harap isi semua informasi yang diperlukan.');
                    return false;
                }
            } else if (step === 2) {
                const condition = document.querySelector('input[name="condition"]:checked');
                const engine = document.querySelector('input[name="engine"]:checked');
                const body = document.querySelector('input[name="body"]:checked');
                
                if (!condition || !engine || !body) {
                    alert('Harap pilih kondisi untuk semua kategori.');
                    return false;
                }
            } else if (step === 3) {
                const contact = document.getElementById('contact').value;
                if (!contact) {
                    alert('Harap masukkan nomor kontak WhatsApp.');
                    return false;
                }
            }
            return true;
        }
        
        function calculateEstimation() {
            const submitBtn = document.querySelector('.btn-submit');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<span class="loading-spinner"></span> Menghitung...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                if (!validateStep(3)) {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    return;
                }
                
                nextStep(3);
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }, 1500);
        }
        
        function simulateCalculation() {
            const minValue = Math.floor(Math.random() * 5) + 18;
            const maxValue = minValue + Math.floor(Math.random() * 3) + 2;
            const avgValue = ((minValue + maxValue) / 2).toFixed(1);
            
            document.getElementById('min-value').textContent = minValue;
            document.getElementById('max-value').textContent = maxValue;
            document.getElementById('avg-value').textContent = avgValue;
        }
        
        function recalculate() {
            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.getElementById('step1').classList.add('active');
            currentStep = 1;
            updateProgressBar();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>