name: ğŸ” IndexNow - æ‰‹åŠ¨æäº¤é¦–é¡µåˆ°Bing

on: 
  # åªæ”¯æŒæ‰‹åŠ¨è§¦å‘
  workflow_dispatch:
    inputs:
      reason:
        description: 'æäº¤åŸå› ï¼ˆå¯é€‰ï¼‰'
        required: false
        default: 'ç½‘ç«™æ›´æ–°'

jobs:
  submit-to-bing:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸš€ æäº¤é¦–é¡µåˆ° Bing
        env:
          KEY: "964fa0042fac44648205cc02f45d4f05"
          LOCATION: "https://www.jfgadai.com/964fa0042fac44648205cc02f45d4f05.txt"
        run: |
          echo "========================================"
          echo "ğŸš€ IndexNow æ‰‹åŠ¨æäº¤"
          echo "========================================"
          echo "æ—¶é—´: $(date)"
          echo "ç½‘ç«™: https://www.jfgadai.com/"
          echo "åŸå› : ${{ github.event.inputs.reason }}"
          echo "æœç´¢å¼•æ“: Bing (é€šè¿‡IndexNowåè®®)"
          echo "========================================"
          echo ""
          
          echo "ğŸ“¡ æ­£åœ¨æäº¤..."
          curl -s -o /dev/null -w "HTTPçŠ¶æ€ç : %{http_code}\n" \
            -X POST "https://api.indexnow.org/indexnow" \
            -H "Content-Type: application/json; charset=utf-8" \
            -d '{
              "host": "www.jfgadai.com",
              "key": "'"$KEY"'",
              "keyLocation": "'"$LOCATION"'",
              "urlList": ["https://www.jfgadai.com/"]
            }'
          
          echo ""
          echo "âœ… æäº¤å®Œæˆ"
          echo ""
          echo "ğŸ’¡ Bing ä¼šåœ¨å‡ å°æ—¶å†…å¤„ç†"
          echo "ğŸŒ å…¶ä»–IndexNowæ”¯æŒçš„æœç´¢å¼•æ“ä¹Ÿä¼šæ”¶åˆ°"
          echo ""
          echo "========================================"
